plugins {
    id 'java'
    id 'idea'
    id 'java-library'
    id 'maven-publish'
}

java {
    withSourcesJar()
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java

            groupId = 'infrastructure'
            artifactId = 'gdx'
            version = "1.0"
        }
    }
}

project.ext.assetsDir = new File("../assets")

ext {
    gdxVersion = '1.12.0'
}

group 'infrastructure'
version '1.0'

repositories {
    mavenCentral()
}


dependencies {
    implementation 'io.netty:netty-all:4.1.86.Final'
    implementation 'org.slf4j:slf4j-log4j12:1.7.29'
    implementation 'com.formdev:flatlaf:3.2.1'

    /**
     * libGDX
     */
    implementation "com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion"
    implementation "com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop"
    implementation "com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop"
    implementation "com.badlogicgames.gdx:gdx:$gdxVersion"
    implementation "com.badlogicgames.gdx:gdx-box2d:$gdxVersion"
    implementation "com.badlogicgames.gdx:gdx-freetype:$gdxVersion"
    implementation "com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop"

    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'
}

// Java version compatibility
java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

// IntelliJ IDEA specific configurations
sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }

    test {
        java {
            srcDirs = ['test']
        }
    }
}